{% extends "base.html" %}

{% block title %}Blackjack 21点{% endblock %}

{% block content %}
    <h1>欢迎来到Blackjack游戏</h1>
    <div class="game-container">
        <div class="game-area">
            <div class="game-header">
                <h2>Blackjack 21点</h2>
                <div class="game-status">
                    <span>余额: $<span id="balance">?</span></span>
                    <span>当前下注: $<span id="current-bet">0</span></span>
                </div>
            </div>

            <div class="dealer-area">
                <h3>庄家</h3>
                <div class="cards" id="dealer-cards"></div>
                <div class="score" id="dealer-score">点数: 0</div>
            </div>

            <div class="player-area">
                <h3>玩家</h3>
                <div class="cards" id="player-cards"></div>
                <div class="score" id="player-score">点数: 0</div>
            </div>

            <div class="controls">
                <button id="hit-btn" class="btn">要牌</button>
                <button id="stand-btn" class="btn">停牌</button>
                <div class="bet-input">
                    <input type="number" id="bet-amount" name="bet-amount" placeholder="输入下注金额" required>
                    <button id="bet-btn" class="btn">开始游戏</button>
                </div>
                <div class="bet-recommended">
                    <button class="bet-btn" data-amount="10">$10</button>
                    <button class="bet-btn" data-amount="50">$50</button>
                    <button class="bet-btn" data-amount="100">$100</button>
                </div>
            </div>
        </div>
        <div class="rankings">
            <h2>实时排行榜</h2>
            <table border="1">
                <thead>
                    <tr>
                        <th>排名</th>
                        <th>用户名</th>
                        <th>分数</th>
                    </tr>
                </thead>
                <tbody>
                    {% for player in player_scores %}
                    <tr>
                        <td>{{ loop.index }}</td>
                        <td>{{ player['username'] }}</td>
                        <td>{{ player['score'] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    <script src="{{ url_for('static', filename='blackjack.js') }}"></script>
{% endblock %}
